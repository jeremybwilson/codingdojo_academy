<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>PacMan</title>
    <meta name="name" content="content">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
  	<!-- All of our HTML code goes here... -->
  	
    <div id='world'>
    </div>

  <!-- <div class='ghost'></div> -->

  	<!-- End of HTML-->
  </body>
<script>
	// All of our JavaScript code goes here... 
  
  // 1 => <div class='wall'></div>
  // 3 => <div class='coin'></div>
  // 2 => <div class='ground'></div>
  // 4 => <div class='ghost'></div>
  // 5 => <div class='pacman'></div>
  // map = [ 1, 2, 3 ]
  // map = [ [1,2,3], [1,2,3], [1,2,3] ];

  pacman = {
    x: 6,
    y: 4
  }

  map = [
    [1,1,1,1,1,1,1,1,1,1,1,1,1], 
    [1,2,2,2,2,2,1,2,2,2,2,2,1], 
    [1,2,1,1,1,2,1,2,1,1,1,2,1], 
    [1,2,1,2,2,2,2,2,2,2,1,2,1], 
    [1,2,2,2,1,1,5,1,1,2,2,2,1], 
    [1,2,1,2,2,2,2,2,2,2,1,2,1], 
    [1,2,1,1,2,2,1,2,2,1,1,2,1], 
    [1,2,2,2,2,2,1,2,2,2,2,2,1], 
    [1,1,1,1,1,1,1,1,1,1,1,1,1]
  ]

  var el = document.getElementById('world');
  var score =  0;

    function drawWorld(){
      el.innerHTML = '';
      for(var y = 0; y < map.length; y = y + 1){
        // console.log(map[y]);
        for (var x = 0; x < map[y].length; x = x + 1){
          console.log(map[y][x])
          if (map[y][x] === 1) {
            el.innerHTML += "<div class='wall'></div>";
          }
          else if (map[y][x] === 2) {
            el.innerHTML += "<div class='coin'></div>";
          }
          else if (map[y][x] === 3) {
            el.innerHTML += "<div class='ground'></div>";
          }
          else if (map[y][x] === 4) {
            el.innerHTML += "<div class='ghost'></div>";
          }
          else if (map[y][x] === 5) {
            el.innerHTML += "<div class='pacman'></div>";
          }
        }
      el.innerHTML += "<br>";
      }
    }

    drawWorld();

  document.onkeydown = function(event){
    // console.log(event);
    if (event.keyCode === 37){ // left
        // left
        if (map[pacman.y][pacman.x-1] !== 1) { // PACMAN MOVE LEFT
          // if (map[pacman.y][pacman.x-1] === 2){
          //   score = score + 10;
          // }
          map[pacman.y][pacman.x] = 3;
          pacman.x = pacman.x - 1;
          map[pacman.y][pacman.x] = 5;
          drawWorld();
        }
      }
      else if (event.keyCode === 38) { // up
        if (map[pacman.y-1][pacman.x] !== 1) { // PACMAN MOVE UP
          map[pacman.y][pacman.x] = 3;
          pacman.y = pacman.y - 1;
          map[pacman.y][pacman.x] = 5;
          drawWorld();
        }
      }
      else if (event.keyCode === 39) { // right
        if (map[pacman.y][pacman.x+1] !== 1) { // PACMAN MOVE RIGHT
          map[pacman.y][pacman.x] = 3;
          pacman.x = pacman.x + 1;
          map[pacman.y][pacman.x] = 5;
          drawWorld();
        }
      }
      else if (event.keyCode === 40) { // down
        if (map[pacman.y+1][pacman.x] !== 1) { // PACMAN MOVE DOWN
          map[pacman.y][pacman.x] = 3;
          pacman.y = pacman.y + 1;
          map[pacman.y][pacman.x] = 5;
          drawWorld();
        }
      }
      console.log(map)
    }

    // drawWorld();

	// End of JavaScript
</script>
</html>
